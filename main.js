(()=>{"use strict";function e(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.removeAttribute("disabled"),t.classList.remove("submit-button_type_error")):(t.setAttribute("disabled",!0),t.classList.add("submit-button_type_error"))}function t(e){e.classList.add("popup_opened")}function n(e){e.classList.remove("popup_opened")}var r=document.querySelector("#image-popup"),o=document.querySelector("#textImage-popup"),c=document.querySelector("#placeName"),u=document.querySelector("#link"),l=document.querySelector(".elements"),a=document.querySelector("#add-place"),i=document.querySelector("#open-image"),d=document.querySelector("#elementTemplate").content;function s(e,n){var c=d.querySelector(".element").cloneNode(!0),u=c.querySelector(".element__image");return c.querySelector(".button-like").addEventListener("click",(function(e){e.target.classList.toggle("button-like_active")})),c.querySelector(".trash-button").addEventListener("click",(function(){c.remove()})),u.addEventListener("click",(function(){r.src=e,o.textContent=n,t(i)})),u.src=e,c.querySelector(".element__text").textContent=n,u.alt=n,c}Array.from(document.querySelectorAll(".form")).forEach((function(t){!function(t){var n=Array.from(t.querySelectorAll(".popup__item")),r=document.querySelectorAll(".submit-button"),o=document.querySelector("#submit-btn-add");e(n,o),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("popup__item_type_error"),n.textContent=""}(e,t):function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add("popup__item_type_error"),r.textContent=n}(e,t,t.validationMessage)}(t,o),r.forEach((function(t){e(n,t)}))}))}))}(t)}));var p=document.querySelector("#edit-profile"),m=document.querySelector("#form-add"),y=document.querySelector(".form"),f=y.querySelector("#name"),v=y.querySelector("#information"),q=document.querySelector(".profile__name"),S=document.querySelector(".profile__text"),_=document.querySelectorAll(".close-button"),k=document.querySelector(".edit-button"),b=document.querySelector(".add-button"),h=document.querySelectorAll(".popup__overlay");_.forEach((function(e){e.addEventListener("click",(function(){n(p),n(a),n(i)}))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(n(p),n(a),n(i))})),h.forEach((function(e){e.addEventListener("click",(function(){n(p),n(a),n(i)}))})),k.addEventListener("click",(function(){f.value=q.textContent,v.value=S.textContent,t(p)})),b.addEventListener("click",(function(){t(a)})),y.addEventListener("submit",(function(e){e.preventDefault(),q.textContent=f.value,S.textContent=v.value,n(p)})),[{place:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{place:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{place:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{place:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{place:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{place:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){l.append(s(e.link,e.place,e.place))})),m.addEventListener("submit",(function(e){e.preventDefault(),l.prepend(s(u.value,c.value))}))})();